<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FiveGaming Chat</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

<style>
    body {
    font-family: 'Press Start 2P', cursive;
    background-color: #1f1f1f;
    color: #fff;
    margin: 0;
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
}

.container {
    max-width: 400px;
    width: 100%;
    padding: 20px;
    background-color: #333;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    border-radius: 8px;
    text-align: center;
}

.title {
    font-size: 24px;
    margin-bottom: 20px;
    text-transform: uppercase;
    letter-spacing: 2px;
}

.form-group {
    margin-bottom: 15px;
}

.form-group label {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.form-group input {
    width: 100%;
    padding: 8px;
    box-sizing: border-box;
    font-size: 16px;
    border: 1px solid #777;
    border-radius: 4px;
    background-color: #444;
    color: #fff;
    outline: none;
}

button {
    display: block;
    width: 100%;
    padding: 10px;
    margin-top: 20px;
    font-size: 16px;
    color: #fff;
    background-color: #e91e63;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    text-transform: uppercase;
    letter-spacing: 1px;
    transition: background-color 0.3s ease;
}

button:hover {
    background-color: #f8bbd0;
}
</style>
</head>
<body>
<div class="chat-container">
    <div class="chat-header">
        <h2>FiveGaming Chat</h2>
        <button class="follow-btn" onclick="follow()">Follow</button>
    </div>
    <div class="chat-body" id="chatBody">
        <!-- Chat messages will be displayed here -->
    </div>
    <div class="chat-input">
        <input type="text" id="messageInput" placeholder="Tulis pesan...">
        <button onclick="sendMessage()"><i class="fas fa-paper-plane"></i></button>
    </div>
</div>
<div class="footer">by <a href="https://www.instagram.com/sabar__24?igsh=MWIwMHpxbzVyNmtrcA==" target="_blank">@sabar__24</a></div>

<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-database.js"></script>
<script>
    var firebaseConfig = {
        apiKey: "YOUR_API_KEY",
        authDomain: "YOUR_AUTH_DOMAIN",
        databaseURL: "YOUR_DATABASE_URL",
        projectId: "YOUR_PROJECT_ID",
        storageBucket: "YOUR_STORAGE_BUCKET",
        messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
        appId: "YOUR_APP_ID"
    };

    firebase.initializeApp(firebaseConfig);
    var database = firebase.database();

    function follow() {
        window.open('https://www.instagram.com/sabar__24?igsh=MWIwMHpxbzVyNmtrcA==', '_blank');
    }

    function sendMessage() {
        var messageInput = document.getElementById("messageInput");
        var messageText = messageInput.value.trim();
        var username = localStorage.getItem('username');

        if (messageText !== "") {
            var messageRef = database.ref('messages').push();
            messageRef.set({
                username: username,
                text: messageText,
                timestamp: new Date().toISOString()
            });

            messageInput.value = "";
        }
    }

    function displayMessage(username, text, timestamp) {
        var chatBody = document.getElementById("chatBody");
        var messageDiv = document.createElement("div");
        messageDiv.classList.add("message");
        var time = new Date(timestamp).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
        var userClass = username === localStorage.getItem('username') ? 'user-message' : '';
        messageDiv.innerHTML = '<div class="' + userClass + '"><span class="user">' + username + '</span><span class="time">' + time + '</span><div class="text">' + text + '</div></div>';
        chatBody.appendChild(messageDiv);
        chatBody.scrollTop = chatBody.scrollHeight; // Auto scroll to bottom
    }

    function getCurrentTime() {
        var now = new Date();
        var hours = now.getHours();
        var minutes = now.getMinutes();
        var amPm = hours >= 12 ? 'PM' : 'AM';
        hours = hours % 12;
        hours = hours ? hours : 12; // Handle midnight
        minutes = minutes < 10 ? '0' + minutes : minutes;
        return hours + ':' + minutes + ' ' + amPm;
    }

    firebase.database().ref('messages').on('child_added', function(snapshot) {
        var message = snapshot.val();
        displayMessage(message.username, message.text, message.timestamp);
    });

    window.onload = function() {
        var username = localStorage.getItem('username');
        if (!username) {
            window.location.href = 'login.html';
        }
    };
</script>
</body>
</html>